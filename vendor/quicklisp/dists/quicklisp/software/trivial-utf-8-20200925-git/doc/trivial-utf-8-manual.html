<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
<title>Trivial UTF-8 Manual</title>
<link type='text/css' href='style.css' rel='stylesheet'/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<script src="jquery.min.js"></script>
<script src="toc.min.js"></script>
<script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {
         inlineMath: [['$','$']],
         processEscapes: true
       }
     });
   </script>
   <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
   </script>
   </head>
<body>
<div id="content-container">
<div id="toc">
<div id="page-toc">
</div>
<div id="toc-footer"><ul><li><a href="https://github.com/melisgl/mgl-pax">[generated by MGL-PAX]</a></li></ul></div>
</div>
<div id="content">
<p><a id='x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29'></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#x-28-23A-28-2813-29-20BASE-CHAR-20-2E-20-22trivial-utf-8-22-29-20ASDF-2FSYSTEM-3ASYSTEM-29" title="(#A((13) BASE-CHAR . \&quot;trivial-utf-8\&quot;) ASDF/SYSTEM:SYSTEM)">&#8594;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29" title="Trivial UTF-8 Manual">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/doc.lisp#L7">&#955;</a></span></span></p>

<h1><a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29">Trivial UTF-8 Manual</a></h1>

<h2>Table of Contents</h2>

<ul>
<li><a href="#x-28-23A-28-2813-29-20BASE-CHAR-20-2E-20-22trivial-utf-8-22-29-20ASDF-2FSYSTEM-3ASYSTEM-29" title="(#A((13) BASE-CHAR . \&quot;trivial-utf-8\&quot;) ASDF/SYSTEM:SYSTEM)">1 trivial-utf-8 ASDF System Details</a></li>
<li><a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-INTRODUCTION-20MGL-PAX-3ASECTION-29" title="Introduction">2 Introduction</a></li>
<li><a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-LINKS-20MGL-PAX-3ASECTION-29" title="Links">3 Links</a></li>
<li><a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-REFERENCE-20MGL-PAX-3ASECTION-29" title="Reference">4 Reference</a></li>
</ul>

<h6>[in package TRIVIAL-UTF-8]</h6>

<p><a id='x-28-23A-28-2813-29-20BASE-CHAR-20-2E-20-22trivial-utf-8-22-29-20ASDF-2FSYSTEM-3ASYSTEM-29'></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29" title="Trivial UTF-8 Manual">&#8592;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-INTRODUCTION-20MGL-PAX-3ASECTION-29" title="Introduction">&#8594;</a> <a href="#x-28-23A-28-2813-29-20BASE-CHAR-20-2E-20-22trivial-utf-8-22-29-20ASDF-2FSYSTEM-3ASYSTEM-29" title="(#A((13) BASE-CHAR . \&quot;trivial-utf-8\&quot;) ASDF/SYSTEM:SYSTEM)">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/trivial-utf-8.asd#L1">&#955;</a></span></span></p>

<h2><a href="#x-28-23A-28-2813-29-20BASE-CHAR-20-2E-20-22trivial-utf-8-22-29-20ASDF-2FSYSTEM-3ASYSTEM-29">1 trivial-utf-8 ASDF System Details</a></h2>

<ul>
<li>Description: A small library for doing UTF-8-based input and output.</li>
<li>Licence: ZLIB</li>
<li>Author: Marijn Haverbeke <a href="m&#x61;&#105;l&#x74;&#111;:&#x6D;&#97;r&#x69;&#106;n&#x68;&#64;g&#x6D;&#97;i&#x6C;&#46;c&#x6F;&#109;">m&#x61;&#105;l&#x74;&#111;:&#x6D;&#97;r&#x69;&#106;n&#x68;&#64;g&#x6D;&#97;i&#x6C;&#46;c&#x6F;&#109;</a></li>
<li>Maintainer: GÃ¡bor Melis <a href="m&#x61;&#105;l&#x74;&#111;:&#x6D;&#101;g&#x61;&#64;r&#x65;&#116;e&#x73;&#46;h&#x75;">m&#x61;&#105;l&#x74;&#111;:&#x6D;&#101;g&#x61;&#64;r&#x65;&#116;e&#x73;&#46;h&#x75;</a></li>
<li>Homepage: <a href="https://common-lisp.net/project/trivial-utf-8/" >https://common-lisp.net/project/trivial-utf-8/</a></li>
<li>Bug tracker: <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-/issues" >https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-/issues</a></li>
<li>Source control: <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8.git" >GIT</a></li>
</ul>

<p><a id='x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-INTRODUCTION-20MGL-PAX-3ASECTION-29'></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#x-28-23A-28-2813-29-20BASE-CHAR-20-2E-20-22trivial-utf-8-22-29-20ASDF-2FSYSTEM-3ASYSTEM-29" title="(#A((13) BASE-CHAR . \&quot;trivial-utf-8\&quot;) ASDF/SYSTEM:SYSTEM)">&#8592;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-LINKS-20MGL-PAX-3ASECTION-29" title="Links">&#8594;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-INTRODUCTION-20MGL-PAX-3ASECTION-29" title="Introduction">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/doc.lisp#L13">&#955;</a></span></span></p>

<h2><a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-INTRODUCTION-20MGL-PAX-3ASECTION-29">2 Introduction</a></h2>

<p>Trivial UTF-8 is a small library for doing UTF-8-based in- and
output on a Lisp implementation that already supports Unicode -
meaning <code>CHAR-CODE</code> and <code>CODE-CHAR</code> deal with Unicode character codes.</p>

<p>The rationale for the existence of this library is that while
Unicode-enabled implementations usually do provide some kind of
interface to dealing with character encodings, these are typically
not terribly flexible or uniform.</p>

<p>The <a href="https://common-lisp.net/project/babel/" >Babel</a> library solves a similar problem while
understanding more encodings. Trivial UTF-8 was written before Babel
existed, but for new projects you might be better off going with
Babel. The one plus that Trivial UTF-8 has is that it doesn't depend
on any other libraries.</p>

<p><a id='x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-LINKS-20MGL-PAX-3ASECTION-29'></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-INTRODUCTION-20MGL-PAX-3ASECTION-29" title="Introduction">&#8592;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-REFERENCE-20MGL-PAX-3ASECTION-29" title="Reference">&#8594;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-LINKS-20MGL-PAX-3ASECTION-29" title="Links">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/doc.lisp#L31">&#955;</a></span></span></p>

<h2><a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-LINKS-20MGL-PAX-3ASECTION-29">3 Links</a></h2>

<p>Here is the <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8" >official repository</a> and the
<a href="http://melisgl.github.io/mgl-pax-world/trivial-utf-8-manual.html" >HTML documentation</a> for the latest version.</p>

<p><a id='x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-REFERENCE-20MGL-PAX-3ASECTION-29'></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-LINKS-20MGL-PAX-3ASECTION-29" title="Links">&#8592;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-REFERENCE-20MGL-PAX-3ASECTION-29" title="Reference">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/doc.lisp#L38">&#955;</a></span></span></p>

<h2><a href="#x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-REFERENCE-20MGL-PAX-3ASECTION-29">4 Reference</a></h2>

<p><a id='x-28TRIVIAL-UTF-8-3AUTF-8-BYTE-LENGTH-20FUNCTION-29'></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/trivial-utf-8.lisp#L31">[function]</a></span> <span class="reference-object"><a href="#x-28TRIVIAL-UTF-8-3AUTF-8-BYTE-LENGTH-20FUNCTION-29" >UTF-8-BYTE-LENGTH</a></span></span> <span class="locative-args">STRING</span></span></p>

<p>Calculate the amount of bytes needed to encode <code>STRING</code>.</p></li>
</ul>

<p><a id='x-28TRIVIAL-UTF-8-3ASTRING-TO-UTF-8-BYTES-20FUNCTION-29'></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/trivial-utf-8.lisp#L69">[function]</a></span> <span class="reference-object"><a href="#x-28TRIVIAL-UTF-8-3ASTRING-TO-UTF-8-BYTES-20FUNCTION-29" >STRING-TO-UTF-8-BYTES</a></span></span> <span class="locative-args">STRING &amp;KEY NULL-TERMINATE</span></span></p>

<p>Convert <code>STRING</code> into an array of unsigned bytes containing its UTF-8
representation. If <code>NULL-TERMINATE</code>, add an extra 0 byte at the end.</p></li>
</ul>

<p><a id='x-28TRIVIAL-UTF-8-3AUTF-8-GROUP-SIZE-20FUNCTION-29'></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/trivial-utf-8.lisp#L112">[function]</a></span> <span class="reference-object"><a href="#x-28TRIVIAL-UTF-8-3AUTF-8-GROUP-SIZE-20FUNCTION-29" >UTF-8-GROUP-SIZE</a></span></span> <span class="locative-args">BYTE</span></span></p>

<p>Determine the amount of bytes that are part of the character whose
encoding starts with <code>BYTE</code>. May signal <a href="#x-28TRIVIAL-UTF-8-3AUTF-8-DECODING-ERROR-20CONDITION-29" title="(TRIVIAL-UTF-8:UTF-8-DECODING-ERROR CONDITION)"><code>UTF-8-DECODING-ERROR</code></a>.</p></li>
</ul>

<p><a id='x-28TRIVIAL-UTF-8-3AUTF-8-BYTES-TO-STRING-20FUNCTION-29'></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/trivial-utf-8.lisp#L176">[function]</a></span> <span class="reference-object"><a href="#x-28TRIVIAL-UTF-8-3AUTF-8-BYTES-TO-STRING-20FUNCTION-29" >UTF-8-BYTES-TO-STRING</a></span></span> <span class="locative-args">BYTES &amp;KEY (START 0) (END (<code>LENGTH</code> <code>BYTES</code>))</span></span></p>

<p>Convert the <code>START</code>, <code>END</code> subsequence of the array of <code>BYTES</code> containing
UTF-8 encoded characters to a <code>STRING</code>. The element type of <code>BYTES</code> may
be anything as long as it can be <code>COERCE</code>d into an <code>(UNSIGNED-BYTES
8)</code> array. May signal <a href="#x-28TRIVIAL-UTF-8-3AUTF-8-DECODING-ERROR-20CONDITION-29" title="(TRIVIAL-UTF-8:UTF-8-DECODING-ERROR CONDITION)"><code>UTF-8-DECODING-ERROR</code></a>.</p></li>
</ul>

<p><a id='x-28TRIVIAL-UTF-8-3AREAD-UTF-8-STRING-20FUNCTION-29'></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/trivial-utf-8.lisp#L203">[function]</a></span> <span class="reference-object"><a href="#x-28TRIVIAL-UTF-8-3AREAD-UTF-8-STRING-20FUNCTION-29" >READ-UTF-8-STRING</a></span></span> <span class="locative-args">INPUT &amp;KEY NULL-TERMINATED STOP-AT-EOF (CHAR-LENGTH -1) (BYTE-LENGTH -1)</span></span></p>

<p>Read UTF-8 encoded data from <code>INPUT</code>, a byte stream, and construct a
string with the characters found. When <code>NULL-TERMINATED</code> is given,
stop reading at a null character. If <code>STOP-AT-EOF</code>, then stop at
<code>END-OF-FILE</code> without raising an error. The <code>CHAR-LENGTH</code> and
<code>BYTE-LENGTH</code> parameters can be used to specify the max amount of
characters or bytes to read, where -1 means no limit. May signal
<a href="#x-28TRIVIAL-UTF-8-3AUTF-8-DECODING-ERROR-20CONDITION-29" title="(TRIVIAL-UTF-8:UTF-8-DECODING-ERROR CONDITION)"><code>UTF-8-DECODING-ERROR</code></a>.</p></li>
</ul>

<p><a id='x-28TRIVIAL-UTF-8-3AUTF-8-DECODING-ERROR-20CONDITION-29'></a></p>

<ul>
<li><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/99770fec83d612cbda1141f0fe04f1c95d9cf043/trivial-utf-8.lisp#L104">[condition]</a></span> <span class="reference-object"><a href="#x-28TRIVIAL-UTF-8-3AUTF-8-DECODING-ERROR-20CONDITION-29" >UTF-8-DECODING-ERROR</a></span></span> <span class="locative-args">SIMPLE-ERROR</span></span></li>
</ul>
  </div>
</div>
<script>$('#page-toc').toc({'selectors': 'h1,h2,h3,h4'});</script>
</body>
</html>
